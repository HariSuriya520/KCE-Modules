<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <title>KCE Portal</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-light">
      <a class="navbar-brand" href="/tutor"><img class="img-logo" src="/images/logo0.png"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        
        <ul class="navbar-nav ml-auto" style="padding-right: 5px;">
          <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="mr-2">HOD / Tutor</span>
                <img class="img-profile d-none d-lg-inline rounded-circle" class="" src="/images/Profile.svg">
              </a>
              <div class="dropdown-menu text-center animate animation" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/tutor/profile">Profile</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/">Logout</a>
              </div>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-primary my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>
    <!-- Navbar End -->
    
    <!-- Table -->
    <div class="notification-table">
        <h2 class="text-center">Exam Time-Table</h2><br>
        <div class="container">
            <a class="btn btn-primary" type="button" data-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Year 1</a>
            <a class="btn btn-primary" type="button" data-toggle="collapse" href="#multiCollapseExample2" role="button" aria-expanded="false" aria-controls="multiCollapseExample2">Year 2</a>
            <a class="btn btn-primary" type="button" data-toggle="collapse" href="#multiCollapseExample3" role="button" aria-expanded="false" aria-controls="multiCollapseExample3">Year 3</a>
            <a class="btn btn-primary" type="button" data-toggle="collapse" href="#multiCollapseExample4" role="button" aria-expanded="false" aria-controls="multiCollapseExample4">Year 4</a>
        </div>
        <table class="table table-bordered table-striped collapse multi-collapse" style="margin-top:10px" id="multiCollapseExample1">
            <thead>
                <tr>
                    <td colspan="4">No of exams : <input id="1" onkeyup="create(this.id)" placeholder="no of exams"></td>
                </tr>
                <tr>
                    <th style="width: 25%;">Date</th>
                    <th style="width: 25%;">FN</th>
                    <th style="width: 25%;">AN</th>
                    <th style="width: 25%;">Subject</th>
                </tr>
            </thead>
            <tbody id="year1"></tbody>
        </table>
        <table class="table table-bordered table-striped collapse multi-collapse" id="multiCollapseExample2">
            <thead>
                <tr>
                    <td colspan="4">No of exams : <input id="2" onkeyup="create(this.id)" placeholder="no of exams"></td>
                </tr>
                <tr>
                    <th style="width: 25%;">Date</th>
                    <th style="width: 25%;">FN</th>
                    <th style="width: 25%;">AN</th>
                    <th style="width: 25%;">Subject</th>
                </tr>
            </thead>
            <tbody id="year2"></tbody>
        </table>
        <table class="table table-bordered table-striped collapse multi-collapse" style="margin-top:10px" id="multiCollapseExample3">
            <thead>
                <tr>
                    <td colspan="4">No of exams : <input id="3" onkeyup="create(this.id)" placeholder="no of exams"></td>
                </tr>
                <tr>
                    <th style="width: 25%;">Date</th>
                    <th style="width: 25%;">FN</th>
                    <th style="width: 25%;">AN</th>
                    <th style="width: 25%;">Subject</th>
                </tr>
            </thead>
            <tbody id="year3"></tbody>
        </table>
        <table class="table table-bordered collapse multi-collapse" style="margin-top:10px" id="multiCollapseExample4">
            <thead>
                <tr>
                    <td colspan="4">No of exams : <input id="4" onkeyup="create(this.id)" placeholder="no of exams"></td>
                </tr>
                <tr>
                    <th style="width: 25%;">Date</th>
                    <th style="width: 25%;">FN</th>
                    <th style="width: 25%;">AN</th>
                    <th style="width: 25%;">Subject</th>
                </tr>
            </thead>
            <tbody id="year4"></tbody>
        </table>

        <div>
            <p id="dataresp" style="text-align:center;"></p>
        </div>
    </div>
    
    <!-- Table End -->

    <!-- Styles -->
    
    <!-- Styles End -->
    <style>
        /* General */

        body {
            height: 100%;
            width: 100%;
        }

        a:hover {
            text-decoration: none;
        }

        /* End */

        /* Navbar */

        nav {
            background-color: #cb7230;
        }

        .navbar-nav .nav-item.dropdown {
            border-radius: 10px;
        }

        .navbar-nav .nav-item.dropdown:hover {
            border-radius: 10px;
            color: #000;
            background-color: burlywood;
        }

        .navbar-nav .nav-item.dropdown:hover span {
            color: #000;
        }

        .nav-link {
            color: #fff !important;
        }

        .img-logo {
            height: 40px;
            width: 40px;
        }

        .nav-link .img-profile {
            height:40px;
            width:40px;
        }

        .dropdown:hover>.dropdown-menu {
            display: block;
        }

        .dropdown-menu {
            margin: 0 25px 0;
            background-color: burlywood;
        }

        .animate {
            animation-duration: 0.3s;
            -webkit-animation-duration: 0.3s;
            animation-fill-mode: both;
            -webkit-animation-fill-mode: both;
        }

        .animation {
        -webkit-animation-name: fadeDown;
        animation-name: fadeDown;
        }

        /* End */

        /* Table */

        .notification-table {
            /* padding-top: 5rem; */
            padding: 5rem;
        }

        table {
            width: 100%;
        }

        th {
            text-align: center;
        }

        td {
            text-align: center;
        }

        /* End */

        /*Animations*/

        @keyframes fadeDown {
            0% {
                transform: translateY(-1rem);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* End */

        /*Scroll Bar*/
        ::-webkit-scrollbar {
            width: 5px;
            background-color: #414141;
        }
        ::-webkit-scrollbar-track {
            border-radius: 10px;
            background: rgba(0,0,0,0.1);
            border: 1px solid #414141;
        }
        
        ::-webkit-scrollbar-thumb {
            border-radius: 10px;
            background: #fff;
            border: 1px solid #fff;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #cb7230;
            border-color: #cb7230;
        }
        
        ::-webkit-scrollbar-thumb:active {
            background: linear-gradient(left, #cb7230, #cb7230);
        }
        /*End*/
    </style>
    <!-- Script -->
    <script>

    function create(id){
        $('#year'+id).empty()
        var len = getValue(id)
        for(i=0;i<len;i++){
            $('#year'+id).append('<tr>'
            +'<td><input id="year'+id+'col'+i+'1"></td>'
            +'<td><input id="year'+id+'col'+i+'2"></td>'
            +'<td><input id="year'+id+'col'+i+'3"></td>'
            +'<td><input id="year'+id+'col'+i+'4"></td>'
            +'</tr>')
        }
        $('#year'+id).append('<tr>'
        +'<td colspan="4"><button class="btn btn-primary" onclick="publish'+id+'()">Publish</button></td>'+
        '</tr>')
    }

    function publish1(){
        
        var data={}
        var len = document.getElementById('year1').childNodes.length-1
        for(i=0;i<len;i++){
            for(j=1;j<=4;j++){
                data['date'+i]=getValue('year1col'+i+''+j)
                data['an'+i]=getValue('year1col'+i+''+j)
                data['fn'+i]=getValue('year1col'+i+''+j)
                data['sub'+i]=getValue('year1col'+i+""+j)
            }            
        }
        data.year='1'
        data.length=len
        $.post('/tutor/ett',data,function(data,status){
            $('#dataresp').html(data)
        })
    }


    function publish2(){
        
        var data={}
        var len = document.getElementById('year2').childNodes.length-1
        for(i=0;i<len;i++){
            for(j=1;j<=4;j++){
                data['date'+i]=getValue('year2col'+i+''+j)
                data['an'+i]=getValue('year2col'+i+''+j)
                data['fn'+i]=getValue('year2col'+i+''+j)
                data['sub'+i]=getValue('year2col'+i+''+j)
            }            
        }
        data.year='2'
        data.length=len
        $.post('/tutor/ett',data,function(data,status){
            $('#dataresp').html(data)
        })
    }

    function publish3(){
        
        var data={}
        var len = document.getElementById('year3').childNodes.length-1
        for(i=0;i<len;i++){
            for(j=1;j<=4;j++){
                data['date'+i]=getValue('year3col'+i+''+j)
                data['an'+i]=getValue('year3col'+i+''+j)
                data['fn'+i]=getValue('year3col'+i+''+j)
                data['sub'+i]=getValue('year3col'+i+''+j)
            }            
        }
        data.year='3'
        data.length=len
        $.post('/tutor/ett',data,function(data,status){
            $('#dataresp').html(data)
        })
    }

    function publish4(){
        var data={}
        var len = document.getElementById('year4').childNodes.length-1
        for(i=0;i<len;i++){
            for(j=1;j<=4;j++){
                data['date'+i]=getValue('year4col'+i+''+j)
                data['an'+i]=getValue('year4col'+i+''+j)
                data['fn'+i]=getValue('year4col'+i+''+j)
                data['sub'+i]=getValue('year4col'+i+''+j)
            }            
        }
        data.year='4'
        data.length=len
        $.post('/tutor/ett',data,function(data,status){
            $('#dataresp').html(data)
        })
    }

    function getValue(id){
        return document.getElementById(id).value
    }
    
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  </body>
</html>